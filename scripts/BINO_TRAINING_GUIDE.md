# Bino è®­ç»ƒè„šæœ¬ä½¿ç”¨æŒ‡å—

## ğŸ“Œ é—®é¢˜è¯Šæ–­

### ä¹‹å‰è®­ç»ƒå¤±è´¥çš„åŸå› 

**ç—‡çŠ¶**: è®­ç»ƒåœ¨ 5000 æ­¥è‡ªåŠ¨åœæ­¢ï¼Œåº”è¯¥è®­ç»ƒåˆ° 30000 æ­¥

**æ ¹æœ¬åŸå› **: `test_iterations` é…ç½®é”™è¯¯

```python
# âŒ é”™è¯¯é…ç½®ï¼ˆä¹‹å‰ï¼‰
test_iterations: [1000, 5000, 10000, 15000, 20000, 25000, 30000, 30000, 1]
                                                                           â†‘
                                                                      é—®é¢˜åœ¨è¿™é‡Œï¼
```

æœ«å°¾çš„ `1` å¯¼è‡´è®­ç»ƒé€»è¾‘å¼‚å¸¸ã€‚æ­£ç¡®çš„é…ç½®åº”è¯¥æ˜¯ï¼š

```python
# âœ… æ­£ç¡®é…ç½®
test_iterations: [1000, 5000, 10000, 15000, 20000, 25000, 30000]
```

---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### æ–¹æ³• 1: å•ä¸ªå®éªŒè®­ç»ƒ

```bash
# è®­ç»ƒ foot 3 viewsï¼ˆé»˜è®¤ï¼‰
bash scripts/train_bino_foot3.sh

# è®­ç»ƒ chest 3 views
bash scripts/train_bino_foot3.sh chest 3

# è®­ç»ƒ abdomen 6 views
bash scripts/train_bino_foot3.sh abdomen 6

# è®­ç»ƒ head 9 views
bash scripts/train_bino_foot3.sh head 9
```

**å‚æ•°è¯´æ˜**:
- ç¬¬ 1 ä¸ªå‚æ•°: å™¨å®˜åç§° (`foot`, `chest`, `head`, `abdomen`, `pancreas`)
- ç¬¬ 2 ä¸ªå‚æ•°: è§†è§’æ•° (`3`, `6`, `9`)

---

### æ–¹æ³• 2: æ‰¹é‡è®­ç»ƒ

```bash
# è®­ç»ƒæ‰€æœ‰å™¨å®˜çš„ 3 views
bash scripts/train_bino_batch.sh 3

# è®­ç»ƒæ‰€æœ‰å™¨å®˜çš„ 6 views
bash scripts/train_bino_batch.sh 6

# è®­ç»ƒæ‰€æœ‰å™¨å®˜çš„ 9 views
bash scripts/train_bino_batch.sh 9

# è®­ç»ƒæ‰€æœ‰å™¨å®˜çš„æ‰€æœ‰è§†è§’ (3, 6, 9)
bash scripts/train_bino_batch.sh all
```

---

## ğŸ”¬ Bino æ–¹æ³•è¯´æ˜

### è®ºæ–‡ä¿¡æ¯
- **æ ‡é¢˜**: Binocular-Guided 3D Gaussian Splatting with View Consistency for Sparse View Synthesis
- **ä¼šè®®**: NeurIPS 2024
- **æ ¸å¿ƒåˆ›æ–°**: Opacity Decay Strategy (ä¸é€æ˜åº¦è¡°å‡ç­–ç•¥)

### æ ¸å¿ƒå‚æ•°

| å‚æ•° | é»˜è®¤å€¼ | è¯´æ˜ |
|------|--------|------|
| `--enable_opacity_decay` | `True` | å¯ç”¨ä¸é€æ˜åº¦è¡°å‡ |
| `--opacity_decay_factor` | `0.995` | è¡°å‡å› å­ï¼ˆè®ºæ–‡æ¨èå€¼ï¼‰ |
| `--iterations` | `30000` | è®­ç»ƒè¿­ä»£æ•° |
| `--test_iterations` | `1000 5000 10000 ...` | è¯„ä¼°æ£€æŸ¥ç‚¹ |

### å·¥ä½œåŸç†

åœ¨å¯†åŒ–è¿‡ç¨‹ä¸­ï¼ˆä»ç¬¬ 500 æ­¥å¼€å§‹ï¼‰ï¼Œæ¯æ¬¡è¿­ä»£éƒ½ä¼šå¯¹ Gaussian çš„ä¸é€æ˜åº¦åº”ç”¨æŒ‡æ•°è¡°å‡ï¼š

```python
# ä¼ªä»£ç 
if iteration > densify_from_iter and enable_opacity_decay:
    gaussians.opacity_decay(factor=0.995)
```

è¿™æ ·å¯ä»¥ï¼š
1. **è‡ªåŠ¨è¿‡æ»¤ä½æ¢¯åº¦çš„å†—ä½™ Gaussians**
2. **ä¿æŒåœºæ™¯è¡¨ç¤ºç´§å‡‘**
3. **æå‡ç¨€ç–è§†è§’é‡å»ºè´¨é‡**

---

## ğŸ“Š è¾“å‡ºç»“æ„

è®­ç»ƒå®Œæˆåï¼Œè¾“å‡ºç›®å½•ç»“æ„å¦‚ä¸‹ï¼š

```
output/
â””â”€â”€ 2025_11_20_16_30_foot_3views_bino/
    â”œâ”€â”€ cfg_args                      # é…ç½®å‚æ•°ï¼ˆæ–‡æœ¬æ ¼å¼ï¼‰
    â”œâ”€â”€ cfg_args.yml                  # é…ç½®å‚æ•°ï¼ˆYAMLæ ¼å¼ï¼‰
    â”œâ”€â”€ ckpt/                         # Checkpoint ç›®å½•ï¼ˆå¦‚æœå¯ç”¨ï¼‰
    â”œâ”€â”€ eval/                         # è¯„ä¼°ç»“æœ
    â”‚   â”œâ”€â”€ iter_001000/
    â”‚   â”‚   â”œâ”€â”€ eval2d_render_test.yml   # æµ‹è¯•é›† 2D æ¸²æŸ“è¯„ä¼°
    â”‚   â”‚   â”œâ”€â”€ eval2d_render_train.yml  # è®­ç»ƒé›† 2D æ¸²æŸ“è¯„ä¼°
    â”‚   â”‚   â””â”€â”€ eval3d.yml               # 3D ä½“ç§¯è¯„ä¼°
    â”‚   â”œâ”€â”€ iter_005000/
    â”‚   â”œâ”€â”€ iter_010000/
    â”‚   â””â”€â”€ ...
    â””â”€â”€ events.out.tfevents.*         # TensorBoard æ—¥å¿—
```

---

## ğŸ“ˆ æŸ¥çœ‹ç»“æœ

### 1. æŸ¥çœ‹æœ€ç»ˆè¯„ä¼°æŒ‡æ ‡

```bash
# æŸ¥çœ‹ 30k æ­¥çš„æµ‹è¯•é›†è¯„ä¼°ç»“æœ
cat output/2025_11_20_16_30_foot_3views_bino/eval/iter_030000/eval2d_render_test.yml | grep -E "psnr_2d|ssim_2d" | grep -v "_projs"
```

### 2. å¯åŠ¨ TensorBoard

```bash
tensorboard --logdir=output/2025_11_20_16_30_foot_3views_bino
```

ç„¶ååœ¨æµè§ˆå™¨æ‰“å¼€ `http://localhost:6006`

### 3. æŸ¥çœ‹è®­ç»ƒæ—¥å¿—

```bash
less output/2025_11_20_16_30_foot_3views_bino_train.log
```

---

## ğŸ¯ SOTA åŸºå‡†å¯¹æ¯”

### Foot 3 Views

| æ–¹æ³• | PSNR â†‘ | SSIM â†‘ |
|------|--------|--------|
| **RÂ² Baseline** | **28.4873** | **0.9005** |
| Bino (å¾…æµ‹) | ? | ? |

### å…¶ä»–å™¨å®˜ï¼ˆ3 Views Baselineï¼‰

| å™¨å®˜ | PSNR â†‘ | SSIM â†‘ |
|------|--------|--------|
| Chest | 26.506 | 0.8413 |
| Foot | 28.4873 | 0.9005 |
| Head | 26.6915 | 0.9247 |
| Abdomen | 29.2896 | 0.9366 |
| Pancreas | 28.7669 | 0.9247 |

---

## ğŸ› ï¸ æ•…éšœæ’æŸ¥

### è®­ç»ƒå¤±è´¥

**é—®é¢˜**: è®­ç»ƒå¯åŠ¨åç«‹å³å¤±è´¥

**å¯èƒ½åŸå› **:
1. GPU å†…å­˜ä¸è¶³ â†’ æ£€æŸ¥ `nvidia-smi`
2. æ•°æ®é›†è·¯å¾„é”™è¯¯ â†’ æ£€æŸ¥ `ls data/369/*.pickle`
3. Conda ç¯å¢ƒæœªæ¿€æ´» â†’ è¿è¡Œ `conda activate r2_gaussian_new`

**è§£å†³æ–¹æ³•**: æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ `*_train.log`

---

### è®­ç»ƒä¸­é€”åœæ­¢

**é—®é¢˜**: è®­ç»ƒåœ¨ä¸­é€”åœæ­¢ï¼Œæœªè¾¾åˆ° 30000 æ­¥

**å¯èƒ½åŸå› **:
1. è¿›ç¨‹è¢«æ‰‹åŠ¨æˆ–ç³»ç»Ÿç»ˆæ­¢ï¼ˆOOMï¼‰
2. `test_iterations` é…ç½®é”™è¯¯

**è§£å†³æ–¹æ³•**:
1. æ£€æŸ¥ `dmesg | grep -i oom` æŸ¥çœ‹æ˜¯å¦å†…å­˜æº¢å‡º
2. ä½¿ç”¨æ–°è„šæœ¬é‡æ–°è®­ç»ƒï¼ˆå·²ä¿®å¤é…ç½®é”™è¯¯ï¼‰

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **è®­ç»ƒæ—¶é—´**: å•ä¸ªå®éªŒçº¦éœ€ 30-60 åˆ†é’Ÿï¼ˆå–å†³äº GPUï¼‰
2. **GPU å ç”¨**: å•å¡ RTX A6000 (çº¦ 10-15GB æ˜¾å­˜)
3. **è¾“å‡ºå‘½å**: è‡ªåŠ¨æ·»åŠ æ—¶é—´æˆ³ï¼Œé¿å…è¦†ç›–
4. **æ—¥å¿—ä¿å­˜**: è®­ç»ƒæ—¥å¿—è‡ªåŠ¨ä¿å­˜ä¸º `{OUTPUT_PATH}_train.log`

---

## ğŸ”— ç›¸å…³èµ„æº

- **RÂ²-Gaussian è®ºæ–‡**: https://arxiv.org/abs/2405.20693
- **Bino è®ºæ–‡**: [Binocular-Guided 3DGS, NeurIPS 2024]
- **ä»£ç ä»“åº“**: /home/qyhu/Documents/r2_ours/r2_gaussian

---

**ç”Ÿæˆæ—¥æœŸ**: 2025-11-20
**è„šæœ¬ç‰ˆæœ¬**: v1.0
**ç»´æŠ¤è€…**: Claude Code
