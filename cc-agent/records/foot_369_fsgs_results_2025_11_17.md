# FSGS Foot 3-Views å®éªŒç»“æœåˆ†æ

**å®éªŒæ—¥æœŸ**: 2025-11-17
**å®éªŒç›®æ ‡**: ä½¿ç”¨ FSGS (Proximity + Pseudo Views) æŠ€æœ¯æå‡ Foot 3-Views æ€§èƒ½è¶…è¶Š baseline
**é¢„æœŸç›®æ ‡**: PSNR â‰¥ 29.0 dB

---

## 1. å®éªŒé…ç½®

### æ•°æ®é›†
- **æ•°æ®æ–‡ä»¶**: `0_foot_cone_3views.pickle`
- **è§†è§’æ•°é‡**: 3 views
- **è§£å‰–éƒ¨ä½**: Foot (è¶³éƒ¨)

### FSGS é…ç½®
| ç»„ä»¶ | çŠ¶æ€ | å‚æ•° |
|------|-----|------|
| Proximity-guided Densification | âœ… å¯ç”¨ | threshold=6.0, k_neighbors=3 |
| Pseudo Views Generation | âœ… å¯ç”¨ | num_views=10, noise_std=0.05, start_iter=2000 |
| Depth Supervision (DPT) | âŒ ç¦ç”¨ | ç¯å¢ƒé™åˆ¶ (PyTorch ç‰ˆæœ¬å†²çª) |

### è®­ç»ƒå‚æ•°
- **æ€»è¿­ä»£æ¬¡æ•°**: 10,000
- **è¯„ä¼°æ£€æŸ¥ç‚¹**: 1000, 5000, 10000
- **Gaussian åˆå§‹ç‚¹æ•°**: 100,000
- **æœ€ç»ˆç‚¹æ•°**: ~120,000

---

## 2. å®éªŒç»“æœ

### å®šé‡æŒ‡æ ‡å¯¹æ¯”

| æ–¹æ³• | 2D PSNR (dB) | 2D SSIM | 3D PSNR (dB) | 3D SSIM | vs Baseline | vs CoR-GS |
|------|-------------|---------|-------------|---------|-------------|-----------|
| **RÂ² Baseline** | **28.547** | **0.9008** | - | - | - | - |
| **CoR-GS (3-views)** | **28.148** | **0.8383** | - | - | **-0.40 dB** âŒ | - |
| **FSGS (Proximity+Pseudo)** | **28.095** | **0.8452** | 23.874 | 0.5734 | **-0.45 dB** âŒ | **-0.05 dB** âš ï¸ |

### ç»“æœæ–‡ä»¶ä½ç½®
- **è¾“å‡ºç›®å½•**: `/home/qyhu/Documents/r2_ours/r2_gaussian/output/2025_11_17_foot_3views_fsgs/`
- **è¯¦ç»†è¯„ä¼°**: `eval/iter_010000/eval2d_render_test.yml`
- **3D è¯„ä¼°**: `eval/iter_010000/eval3d.yml`
- **è®­ç»ƒæ—¥å¿—**: `training.log` (206 KB)
- **TensorBoard äº‹ä»¶**: `events.out.tfevents.*`

---

## 3. å¤±è´¥åˆ†æ

### âŒ æœªè¾¾é¢„æœŸçš„åŸå› 

#### 3.1 æ·±åº¦ç›‘ç£ç¼ºå¤±çš„å½±å“
- **FSGS è®ºæ–‡é…ç½®**: Proximity + Depth + Pseudo Views
- **å½“å‰é…ç½®**: Proximity + Pseudo Views (Depth è¢«ç¦ç”¨)
- **é¢„ä¼°å½±å“**: æŸå¤± **0.5-1.0 dB** (æ ¹æ® FSGS Table 4 ablation)
- **æ ¹æœ¬åŸå› **: PyTorch 1.12.1 ä¸ transformers/DPT ä¸å…¼å®¹

#### 3.2 åŒ»å­¦ CT vs. è‡ªç„¶åœºæ™¯å·®å¼‚
| ç‰¹æ€§ | è‡ªç„¶åœºæ™¯ (FSGS è®ºæ–‡) | åŒ»å­¦ CT (æœ¬å®éªŒ) |
|------|---------------------|----------------|
| æ•°æ®ç±»å‹ | RGB å›¾åƒ (3é€šé“) | æŠ•å½±æ•°æ® (å•é€šé“) |
| å‡ ä½•çº¦æŸ | å¼± (è‡ªç”±è§†è§’) | å¼º (åœ†é”¥æŸå‡ ä½•) |
| å™ªå£°ç‰¹æ€§ | é«˜æ–¯å™ªå£° | æ³Šæ¾å™ªå£° + æ•£å°„ |
| ä¼ªè§†è§’ç”Ÿæˆæœ‰æ•ˆæ€§ | é«˜ | **ä½** (å‡ ä½•çº¦æŸå†²çª) |

**å…³é”®é—®é¢˜**:
- ä¼ªè§†è§’çš„ Gaussian noise (Ïƒ=0.05) ç ´åäº† CT çš„å‡ ä½•ä¸€è‡´æ€§
- Proximity unpooling åœ¨è§£å‰–è¾¹ç•Œå¤„å¯èƒ½äº§ç”Ÿä¼ªå½±

#### 3.3 å‚æ•°æœªä¼˜åŒ–
- `proximity_threshold=6.0`: ç›´æ¥ä½¿ç”¨è®ºæ–‡é»˜è®¤å€¼,æœªé’ˆå¯¹ foot è§£å‰–ç»“æ„è°ƒæ•´
- `num_fsgs_pseudo_views=10`: å¯èƒ½å¯¹ 3-view åœºæ™¯è¿‡å¤š,å¼•å…¥å™ªå£°
- `fsgs_noise_std=0.05`: å¯¹ CT æŠ•å½±å‡ ä½•è¿‡å¤§

#### 3.4 è®­ç»ƒä¸å……åˆ†
- **å½“å‰è®­ç»ƒ**: 10,000 iterations
- **ä¼ªè§†è§’å¯åŠ¨**: iter 2000 â†’ **ä»… 8,000 æ­¥**åˆ©ç”¨ pseudo views
- **å¯¹æ¯” CoR-GS**: å¯èƒ½ä½¿ç”¨ 15,000 iterations
- **å»ºè®®**: è‡³å°‘ 15,000-20,000 iterations

---

## 4. FSGS æŠ€æœ¯åœ¨åŒ»å­¦ CT çš„å±€é™æ€§

### ä¸é€‚ç”¨çš„ç»„ä»¶
1. **Pseudo Views Generation**
   - âŒ **é—®é¢˜**: åŸºäº Gaussian noise çš„ç›¸æœºæŠ–åŠ¨ç ´å CT å‡ ä½•çº¦æŸ
   - âœ… **æ›¿ä»£æ–¹æ¡ˆ**: ä½¿ç”¨ **CT ç‰©ç†æ¨¡å‹**ç”Ÿæˆä¼ªæŠ•å½± (åŸºäºå½“å‰é‡å»ºçš„ DRR)

2. **é€šç”¨æ·±åº¦ä¼°è®¡ (DPT/MiDaS)**
   - âŒ **é—®é¢˜**: åœ¨è‡ªç„¶å›¾åƒä¸Šé¢„è®­ç»ƒ,ä¸ç†è§£ CT æŠ•å½±å‡ ä½•
   - âœ… **æ›¿ä»£æ–¹æ¡ˆ**: ä½¿ç”¨ **CT æ·±åº¦å…ˆéªŒ** (ä»æŠ•å½±å‡ ä½•è®¡ç®—)

### ä»æœ‰ä»·å€¼çš„ç»„ä»¶
1. **Proximity-guided Densification** âœ…
   - æ ¹æ®è§£å‰–ç»“æ„è‡ªé€‚åº”å¢åŠ  Gaussian ç‚¹
   - **éœ€ä¼˜åŒ–**: æ ¹æ® foot éª¨éª¼/è½¯ç»„ç»‡è¾¹ç•Œè°ƒæ•´ threshold

---

## 5. æ”¹è¿›æ–¹å‘

### æ–¹æ¡ˆ A: ä¿®å¤æ·±åº¦ç›‘ç£ (çŸ­æœŸ, 1-2å¤©)
**ç›®æ ‡**: æ¢å¤å®Œæ•´çš„ FSGS æµç¨‹,é¢„æœŸæå‡ 0.5-1.0 dB

**æ­¥éª¤**:
1. **ç¯å¢ƒä¿®å¤**:
   ```bash
   # æ–¹æ¡ˆ1: åˆ›å»ºç‹¬ç«‹çš„ DPT ç¯å¢ƒ
   conda create -n dpt_env python=3.9 pytorch==2.0.0 transformers -y

   # æ–¹æ¡ˆ2: ä½¿ç”¨ Docker å®¹å™¨éš”ç¦» DPT
   docker run --gpus all -v /data:/data pytorch/pytorch:2.0.0-cuda11.7-cudnn8-runtime
   ```

2. **å¤–éƒ¨æ·±åº¦ä¼°è®¡**:
   - åœ¨ DPT ç¯å¢ƒä¸­é¢„å…ˆä¼°è®¡æ‰€æœ‰è§†è§’çš„æ·±åº¦å›¾
   - ä¿å­˜ä¸º `.npy` æ–‡ä»¶ä¾›è®­ç»ƒæ—¶åŠ è½½

3. **é‡æ–°è®­ç»ƒ** (15,000 iterations):
   ```bash
   python train.py \
       --enable_fsgs_proximity \
       --enable_fsgs_depth \  # å¯ç”¨æ·±åº¦
       --fsgs_depth_model dpt_large \
       --enable_fsgs_pseudo_views \
       --iterations 15000
   ```

**é¢„æœŸç»“æœ**: **28.6-29.0 dB** (Baseline é™„è¿‘)

---

### æ–¹æ¡ˆ B: CT ç‰¹åŒ–çš„ä¼ªè§†è§’ç­–ç•¥ (ä¸­æœŸ, 3-5å¤©)
**ç›®æ ‡**: è®¾è®¡ç¬¦åˆ CT å‡ ä½•çš„ä¼ªè§†è§’ç”Ÿæˆ,é¢„æœŸæå‡ 1.0-1.5 dB

**æ ¸å¿ƒæ€è·¯**:
ä¸ä½¿ç”¨ Gaussian noise,è€Œæ˜¯åŸºäº **DRR (Digitally Reconstructed Radiograph)** ç”Ÿæˆç‰©ç†ä¸€è‡´çš„ä¼ªæŠ•å½±

**å®ç°**:
1. **DRR-based Pseudo Views**:
   ```python
   # ä»å½“å‰ 3D Gaussian é‡å»ºä½“æ¸²æŸ“æ–°è§†è§’æŠ•å½±
   pseudo_cameras = generate_intermediate_cameras(
       train_cameras,  # 3 ä¸ªè®­ç»ƒè§†è§’
       num_pseudo=10,
       method='arc_interpolation'  # æ²¿åœ†å¼§æ’å€¼
   )

   for cam in pseudo_cameras:
       pseudo_proj = render_drr(gaussians, cam)  # ç‰©ç†æ¸²æŸ“
       loss += consistency_loss(pseudo_proj, expected_proj)
   ```

2. **ä¼˜åŠ¿**:
   - ä¿æŒ CT å‡ ä½•ä¸€è‡´æ€§
   - æ— éœ€å¤–éƒ¨æ·±åº¦ä¼°è®¡
   - å¯ç”¨äºæ•°æ®å¢å¼º

**é¢„æœŸç»“æœ**: **29.0-29.5 dB** (è¶…è¶Š baseline)

---

### æ–¹æ¡ˆ C: å¢åŠ è®­ç»ƒè§†è§’ (ç«‹å³å¯è¡Œ)
**ç›®æ ‡**: åˆ‡æ¢åˆ° 6-views æ•°æ®,é¢„æœŸæå‡ 1.5-2.0 dB

**ç†ç”±**:
- 3-views æœ¬èº«ä¿¡æ¯ä¸è¶³,ä»»ä½•æ­£åˆ™åŒ–æŠ€æœ¯æ•ˆæœæœ‰é™
- FSGS åœ¨è®ºæ–‡ä¸­æµ‹è¯•çš„æ˜¯ **6-9 views** åœºæ™¯
- RÂ² baseline åœ¨ 6-views ä¸‹: **PSNR = 30.2 dB**

**æ‰§è¡Œ**:
```bash
# ä½¿ç”¨ 6-views æ•°æ®é‡è·‘ FSGS
bash run_foot6_fsgs.sh  # éœ€åˆ›å»ºæ–°è„šæœ¬
```

**é¢„æœŸç»“æœ**: **30.5-31.0 dB** (æ˜¾è‘—è¶…è¶Š baseline)

---

## 6. ç»“è®ºä¸å»ºè®®

### æ ¸å¿ƒç»“è®º
1. **FSGS (Proximity + Pseudo)** åœ¨ Foot 3-Views ä¸Š **æœªèƒ½è¶…è¶Š baseline**
2. **ä¸»è¦ç“¶é¢ˆ**:
   - æ·±åº¦ç›‘ç£ç¼ºå¤± (ç¯å¢ƒé™åˆ¶)
   - ä¼ªè§†è§’ç­–ç•¥ä¸é€‚åˆ CT å‡ ä½•
   - 3-views ä¿¡æ¯æœ¬è´¨ä¸è¶³

### ç«‹å³å»ºè®®
**ä¼˜å…ˆçº§æ’åº**:
1. **ğŸ¥‡ æ–¹æ¡ˆ C (ç«‹å³æ‰§è¡Œ)**: åˆ‡æ¢åˆ° 6-views,éªŒè¯ FSGS åœ¨å……è¶³è§†è§’ä¸‹çš„æ•ˆæœ
2. **ğŸ¥ˆ æ–¹æ¡ˆ B (æ¨è)**: å¼€å‘ CT ç‰¹åŒ–çš„ DRR-based ä¼ªè§†è§’ç­–ç•¥
3. **ğŸ¥‰ æ–¹æ¡ˆ A (å¤‡é€‰)**: ä¿®å¤æ·±åº¦ç›‘ç£ç¯å¢ƒ

### é•¿æœŸä»·å€¼
å°½ç®¡å½“å‰å®éªŒæœªæˆåŠŸ,ä½†è·å¾—äº†å®è´µç»éªŒ:
- âœ… **éªŒè¯äº† FSGS ä»£ç é›†æˆçš„å®Œæ•´æ€§** (å¯å¤ç”¨)
- âœ… **è¯†åˆ«äº†åŒ»å­¦ CT ä¸è‡ªç„¶åœºæ™¯çš„å…³é”®å·®å¼‚**
- âœ… **ä¸ºåç»­ CT ç‰¹åŒ–æ–¹æ³•æä¾›äº†åŸºçº¿å¯¹æ¯”**

---

## 7. é™„å½•

### è®­ç»ƒæ—¥å¿—æ‘˜è¦
- **å¼€å§‹æ—¶é—´**: 2025-11-17 10:29:26 CST
- **å®Œæˆæ—¶é—´**: 2025-11-17 11:54:xx CST
- **æ€»ç”¨æ—¶**: ~1å°æ—¶25åˆ†é’Ÿ
- **Loss æ”¶æ•›æ›²çº¿**: 0.14 â†’ 0.0055 (ç¨³å®š)
- **Gaussian ç‚¹æ•°å¢é•¿**: 100k â†’ 120k (ç¬¦åˆé¢„æœŸ)

### ç¯å¢ƒä¿¡æ¯
- **PyTorch**: 1.12.1+cu113
- **CUDA**: 11.3
- **GPU**: (æ ¹æ®ç³»ç»Ÿæ£€æµ‹)
- **Conda ç¯å¢ƒ**: r2_gaussian_new

### ä»£ç ä¿®æ”¹è®°å½•
- **æ–°å¢æ–‡ä»¶**:
  - `r2_gaussian/utils/depth_estimator.py` (æ·±åº¦ä¼°è®¡æ¨¡å—)
  - `r2_gaussian/utils/pseudo_view_utils.py` (ä¼ªè§†è§’ç”Ÿæˆ)
  - `r2_gaussian/utils/fsgs_complete.py` (å®Œæ•´ FSGS ç³»ç»Ÿ)
  - `run_foot3_fsgs.sh` (å¯åŠ¨è„šæœ¬)
- **ä¿®æ”¹æ–‡ä»¶**:
  - `train.py` (é›†æˆ FSGS è®­ç»ƒæµç¨‹)

---

**ç”Ÿæˆæ—¶é—´**: 2025-11-17 13:12 CST
**å®éªŒè´Ÿè´£äºº**: @research-project-coordinator + @3dgs-expert
**ä¸‹ä¸€æ­¥è¡ŒåŠ¨**: ç­‰å¾…ç”¨æˆ·å†³ç­–(æ–¹æ¡ˆ A/B/C)
