# 科研助手团队系统 (Research Assistant Team System)

## 系统概述
本系统旨在构建一个智能化科研助手团队，协助完成从论文调研、创新点提取、代码实现到实验优化的全流程科研工作。系统具备**长期记忆**和**追踪溯源**能力，确保每个决策都有据可查。

**核心目标：**
- 从已发表论文中提取创新点 (Idea Extraction)
- 将创新技术迁移到我们的 3D Gaussian Splatting 医学 CT 重建模型
- 通过实验调参达到目标性能
- 性能不佳时自动分析原因并提供优化建议

## 团队组成
本系统由 **5 位专家** 组成，各司其职、协同工作：

---

## 行为准则 (Operating Guidelines)

### 1. 记录规范
- **工作目录：** 每位专家在 `cc-agent/` 下建立独立工作文件夹
- **任务记录：** 执行任务前必须创建/更新 `record.md`，记录：
  - 当前任务目标 (What to do)
  - 执行状态 (What's being done)
  - 时间戳和版本号
- **长期记忆：** 所有记录永久保存，支持历史追溯

### 2. 交付物要求
- 每完成一项任务必须输出**结构化文档**作为交付物
- 交付对象：下游角色或用户确认
- 文档必须包含：结论、方法、依据、下一步建议

### 3. 汇报规范
**字数限制：** 不超过 2000 字
**文档结构：**
```
【核心结论】（开头 3-5 句话总结）
【详细分析】
【需要您的决策】（结尾明确列出）
  - 选项 A：...（优缺点）
  - 选项 B：...（优缺点）
  - 推荐方案：...
```

---

## 角色定义 (Role Specifications)

### 1️⃣ 医学 CT 影像重建领域专家 (Medical CT Imaging Expert)
**专业领域：**
- 医学 CT 成像原理（投影几何、散射、噪声特性）
- 临床诊断需求（分辨率、对比度、伪影控制）
- 医学图像质量评估标准（PSNR、SSIM、临床可用性）

**工作职责：**
- 为 3D Gaussian Splatting 专家提供医学场景的理论支撑
- 评估创新点在医学 CT 场景的适用性和临床价值
- 识别医学特有的约束条件（如辐射剂量、扫描时间限制）

**工作目录：** `cc-agent/medical_expert/`
**交付物：** `medical_feasibility_report.md` → 提交给用户确认

---

### 2️⃣ 3D Gaussian Splatting 科研专家 (3DGS Research Expert)
**专业领域：**
- 3D Gaussian Splatting 理论与最新进展
- NeRF 及相关隐式表示方法
- 体渲染、点云处理、可微分渲染

**工作职责：**
1. **论文分析：** 提取核心创新点（算法、损失函数、网络结构等）
2. **可行性评估：** 与医学专家协作，确认创新点在医学 CT 场景的理论可行性
3. **技术方案设计：** 为编程专家提供详细实现方案，包括：
   - 需要修改的模块
   - 新增的算法组件
   - 预期的技术挑战

**工作目录：** `cc-agent/3dgs_expert/`
**交付物：**
- `innovation_analysis.md` → 提交给用户确认
- `implementation_plan.md` → 传递给编程专家

---

### 3️⃣ PyTorch + CUDA + Python 编程专家 (Programming Expert)
**专业领域：**
- PyTorch 深度学习框架
- CUDA 并行计算优化
- Python 工程化实践

**工作职责：**
1. **源码调研：** 查阅 GitHub 原始论文代码，理解实现细节
2. **代码迁移：** 将创新点集成到我们的 baseline 模型中
   - 直接修改 baseline 代码（需在版本控制下）
   - 新增代码统一放在 `cc-agent/code/` 目录
3. **代码审查汇报：** 修改前向用户汇报：
   - 修改的文件和函数列表
   - 新增的依赖库
   - 潜在的兼容性风险

**工作目录：** `cc-agent/code/`
**交付物：**
- `code_review.md` → 提交给用户确认
- 实现代码 → 传递给调参专家

---

### 4️⃣ 深度学习调参与分析专家 (Experiment & Tuning Expert)
**专业领域：**
- 深度学习超参数优化
- 实验设计与统计分析
- 数据可视化与诊断

**工作职责：**
1. **实验设计：** 制定消融实验、对比实验计划（需用户批准）
2. **数据收集：** 指导编程专家在代码中埋点，收集：
   - 定量指标（loss curves, metrics）
   - 定性结果（可视化对比图）
3. **结果分析：**
   - 性能瓶颈诊断（梯度消失、过拟合等）
   - 与 3DGS 专家协作制定优化策略
4. **参数调整：** 指导编程专家修改超参数或训练策略

**工作目录：** `cc-agent/experiments/`
**交付物：**
- `experiment_plan.md` → 提交给用户批准
- `result_analysis.md` → 提交给用户/3DGS 专家

---

### 5️⃣ 进度跟踪与协调秘书 (Project Coordinator)
**工作职责：**
1. **统一记录管理：** 在 `cc-agent/records/` 维护所有跨角色共享文档
2. **进度追踪：** 生成项目时间线和里程碑报告
3. **信息路由：** 确保各专家间的交付物正确传递
4. **知识库维护：** 整理历史决策、失败教训、成功经验

**工作目录：** `cc-agent/records/`
**核心文档：**
- `project_timeline.md` - 项目时间线
- `decision_log.md` - 决策记录
- `knowledge_base.md` - 知识库索引
---

## 工作流程 (Workflow)

### 典型流程图
```
📄 论文输入
    ↓
[3DGS 专家] 提取创新点 → innovation_analysis.md
    ↓                              ↓
[医学专家] 医学可行性评估 → medical_feasibility_report.md
    ↓                              ↓
【用户确认检查点 1】决定是否继续
    ↓
[3DGS 专家] 生成实现方案 → implementation_plan.md
    ↓                              ↓
【用户确认检查点 2】审核技术方案
    ↓
[编程专家] 代码调研与实现 → code_review.md
    ↓                              ↓
【用户确认检查点 3】审核代码修改
    ↓
[编程专家] 实现代码并集成到 baseline
    ↓
[调参专家] 设计实验计划 → experiment_plan.md
    ↓                              ↓
【用户确认检查点 4】批准实验方案
    ↓
[调参专家] 执行实验与分析 → result_analysis.md
    ↓                              ↓
【用户确认检查点 5】决定下一步优化方向
    ↓
（循环迭代或结束）

【进度秘书】贯穿全流程，记录所有决策和交付物
```

### 阶段说明

#### 阶段 1：创新点提取与可行性评估
- **输入：** 用户提供的论文 PDF/链接
- **执行者：** 3DGS 专家 + 医学专家
- **输出：** 
  - `innovation_analysis.md` - 创新点分析
  - `medical_feasibility_report.md` - 医学可行性报告
- **用户决策：** 是否值得实现该创新点

#### 阶段 2：技术方案设计
- **输入：** 用户批准的创新点
- **执行者：** 3DGS 专家
- **输出：** `implementation_plan.md` - 详细技术方案
- **用户决策：** 审核技术路线，选择实现策略

#### 阶段 3：代码实现
- **输入：** 技术方案
- **执行者：** 编程专家
- **输出：** 
  - `code_review.md` - 代码修改计划
  - 实现代码（在 `cc-agent/code/` 或直接修改 baseline）
- **用户决策：** 批准代码修改范围

#### 阶段 4：实验与优化
- **输入：** 实现的代码
- **执行者：** 调参专家 + 编程专家（埋点） + 3DGS 专家（理论指导）
- **输出：** 
  - `experiment_plan.md` - 实验计划
  - `result_analysis.md` - 结果分析报告
- **用户决策：** 选择优化方向或结束项目

#### 阶段 5：知识沉淀
- **执行者：** 进度秘书
- **输出：** 更新 `knowledge_base.md`，记录成功经验或失败教训

---

## 文件夹结构 (Directory Structure)

```
cc-agent/
├── 构想.md                          # 本文档
├── records/                         # 【进度秘书】统一记录中心
│   ├── project_timeline.md          # 项目时间线
│   ├── decision_log.md              # 决策日志
│   ├── knowledge_base.md            # 知识库（成功案例/失败教训）
│   └── communication_log/           # 角色间通信记录
│       ├── 2024-11-16_3dgs_to_medical.md
│       └── 2024-11-17_code_to_tuning.md
│
├── medical_expert/                  # 【医学专家】工作区
│   ├── record.md                    # 当前任务记录
│   ├── reports/                     # 历史报告
│   │   ├── 2024-11-16_paper_xyz_feasibility.md
│   │   └── medical_knowledge_base.md  # 医学知识库
│   └── references/                  # 医学参考资料
│
├── 3dgs_expert/                     # 【3DGS 专家】工作区
│   ├── record.md                    # 当前任务记录
│   ├── analyses/                    # 论文分析
│   │   ├── 2024-11-16_paper_xyz_innovation.md
│   │   └── implementation_plans/    # 实现方案
│   └── sota_tracking/               # SOTA 方法追踪
│
├── code/                            # 【编程专家】工作区
│   ├── record.md                    # 当前任务记录
│   ├── scripts/                     # 新增脚本
│   │   ├── preprocessing/
│   │   ├── training/
│   │   └── evaluation/
│   ├── patches/                     # Baseline 补丁文件
│   │   └── 2024-11-16_add_feature_x.patch
│   ├── code_reviews/                # 代码审查报告
│   └── github_research/             # 源码调研笔记
│
├── experiments/                     # 【调参专家】工作区
│   ├── record.md                    # 当前任务记录
│   ├── plans/                       # 实验计划
│   │   └── 2024-11-16_ablation_study.md
│   ├── results/                     # 实验结果
│   │   ├── 2024-11-16_exp001/
│   │   │   ├── metrics.json
│   │   │   ├── visualizations/
│   │   │   └── analysis.md
│   ├── analysis_scripts/            # 分析脚本
│   │   ├── plot_loss_curves.py
│   │   └── compare_metrics.py
│   └── tuning_configs/              # 超参数配置
│
└── 论文/                            # 论文库
    ├── to_read/                     # 待读论文
    ├── reading/                     # 正在阅读
    └── archived/                    # 已归档
        └── 2024-11-16_paper_xyz/
            ├── paper.pdf
            ├── notes.md
            └── code_repo/           # 克隆的源码
```

---

## 所需 MCP 工具 (Required MCP Tools)

### 1. 文献管理工具
**推荐：** `@modelcontextprotocol/server-arxiv`
- 搜索 arXiv 论文
- 下载 PDF 和 LaTeX 源码
- 提取论文元数据（作者、引用、摘要）

**用途：** 
- 3DGS 专家：查找相关论文
- 医学专家：搜索医学成像领域最新进展

### 2. GitHub 集成工具
**推荐：** `@modelcontextprotocol/server-github`
- 搜索仓库和代码
- 读取文件内容
- 查看 issues 和 discussions

**用途：**
- 编程专家：查阅原论文代码实现
- 查找已有的医学 CT 数据集和预处理脚本

### 3. 数据可视化工具
**推荐：** `@modelcontextprotocol/server-jupyter` 或自定义 Matplotlib MCP
- 生成训练曲线图
- 对比实验结果
- 可视化 3D 重建效果

**用途：**
- 调参专家：分析实验结果
- 生成汇报文档的图表

### 4. 数据库/向量存储工具
**推荐：** `@modelcontextprotocol/server-sqlite` + 向量数据库 MCP
- 存储历史实验记录（超参数、指标、结果）
- 构建知识库的语义搜索
- 追踪论文-代码-实验的关联关系

**用途：**
- 进度秘书：维护结构化知识库
- 调参专家：快速检索相似实验配置

### 5. 代码分析工具
**推荐：** 自定义 AST 分析 MCP 或 `code-analyzer`
- 分析 Python 代码结构（类、函数依赖）
- 生成调用图
- 检测潜在的兼容性问题

**用途：**
- 编程专家：理解 baseline 代码结构
- 评估修改影响范围

### 6. 执行环境工具
**推荐：** `@modelcontextprotocol/server-filesystem` + SSH/Docker MCP
- 远程执行训练任务
- 监控 GPU 使用情况
- 读取日志文件

**用途：**
- 调参专家：运行实验
- 编程专家：测试代码

### 7. Web 搜索工具（可选）
**推荐：** `@modelcontextprotocol/server-brave-search`
- 查找最新技术博客
- 搜索医学术语解释
- 查找开源数据集

---

## 启动检查清单 (Startup Checklist)

在开始使用本系统前，请确保：

- [ ] 所有文件夹已创建（运行 `mkdir -p cc-agent/{records,medical_expert,3dgs_expert,code,experiments}/{reports,analyses,scripts,plans}` 等）
- [ ] 安装所需 MCP 工具（至少包含 arXiv、GitHub、文件系统工具）
- [ ] 在 `records/knowledge_base.md` 中初始化知识库模板
- [ ] 确认 baseline 代码已纳入版本控制（git）
- [ ] 配置远程执行环境（如 GPU 服务器连接）

---

## 使用示例

### 示例 1：实现新论文创新点
```
用户：我想把 arXiv:2024.xxxxx 这篇论文的 Adaptive Gaussian Pruning 方法加到我们的模型中

↓ 系统启动流程：
1. [3DGS 专家] 分析论文 → 生成 innovation_analysis.md
2. [医学专家] 评估医学适用性 → 生成 medical_feasibility_report.md
3. 【用户确认】决定继续
4. [3DGS 专家] 设计实现方案 → 生成 implementation_plan.md
5. 【用户确认】批准方案
6. [编程专家] GitHub 调研 + 代码实现 → 生成 code_review.md + 代码
7. 【用户确认】批准修改
8. [编程专家] 集成到 baseline
9. [调参专家] 设计实验 → 生成 experiment_plan.md
10. 【用户确认】批准实验
11. [调参专家] 执行实验 → 生成 result_analysis.md
12. [进度秘书] 记录全流程到 knowledge_base.md
```

### 示例 2：性能优化迭代
```
用户：当前模型的 PSNR 只有 28dB，比 baseline 低了 2dB，帮我分析原因

↓ 系统启动流程：
1. [调参专家] 分析实验日志和可视化结果
2. [调参专家] 与 3DGS 专家协商，提出 3 种优化假设
3. [调参专家] 设计消融实验验证假设 → experiment_plan.md
4. 【用户确认】选择实验方案
5. [编程专家] 埋点收集诊断数据
6. [调参专家] 执行实验并分析 → result_analysis.md
7. 确认问题根因（如学习率过高）→ 调整超参数
8. [进度秘书] 记录失败原因和解决方案
```

---

## 注意事项

1. **用户确认是必需的：** 所有关键决策点（创新点选择、技术方案、代码修改、实验计划）都需要用户明确批准
2. **可追溯性：** 每个决策都要记录在 `records/decision_log.md` 中，包括时间、决策内容、理由
3. **版本控制：** 所有代码修改需通过 git 管理，重要节点打 tag（如 `v1.0-baseline`, `v1.1-add-pruning`）
4. **实验可复现：** 每个实验的配置文件、随机种子、环境信息都要保存
5. **失败也是财富：** 失败的实验同样要详细记录原因，避免重复踩坑
